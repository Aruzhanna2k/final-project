# Анализ и описание архитектурных опций 

> Ниже представлен список архитектурных опций, а также описание обоснования выбора в силу выбранной опции

## 1. Mонолитная / микросервисная архитектура
| Опция  | Преимущества | Недостатки | Выбор |
| - | - | - | - |
| Модульный монолит | Прост в разработке и деплое, низкий порог входа, более экономичен в расходах. | Ограниченная масштабируемость, с ростом количества функционала увеличивается рост связанности. Сложнее масштабировать при росте нагрузки. |  +  |
| Микросервисы    | Масштабируемость, высокая технологическая гибкость позволяющая использовать разные языки программирования и подходы в сервисах, независимые релизы команд.  | Высокие затраты на DevOps, оркестрацию, мониторинг, межсервисные интеграции увеличивают time to market. |  |

**Обоснование:** На старте разумно использовать будет модульный монолит с четкой границей доменов (DDD). Это упрощает разработку и открывает путь к миграции в микросервисы при росте нагрузки. Такой вариант позволит команде бизнеса проверить свои гепотезы посредством запуска MVP, без лишних затрат на микросервисную архитектуру.

---

## 2. Авторизация: сессионный подход / JWT токены

| Опция     | Преимущества| Недостатки        | Выбор |
| - | - | - | - |
| JWT   | Самодостаточные токены, масштабируемость, идеален для SPA/Mobile    | Сложнее отзыва токена,  возможны проблемы с безопасностью при неправильной реализации | +    |
| Сессии| Контроль сессий на сервере, простота интеграции с backend-heavy системами | Не подходит для SPA и мобильных приложений |    |

**Обоснование:** JWT больше подходит для работы с мобильным приложением. Также, он хорошо сочетается с OAuth2. Имеется возможность валидировать токены без обращения к хранилищу.


---

## 3.Реляционные БД / NoSQL

| Опция         | Преимущества  | Недостатки  | Выбор |
| - | - | - | - |
| PostgreSQL| ACID-гарантии, поддержка сложных запросов, надежность  | Менее гибкая схема| +  |
| MongoDB  | Гибкая схема, горизонтальное масштабирование, JSON модель для документоориентированной базы  | Отсутствие строгой консистентности. Отсутствие связей между коллекциями   |     |

**Обоснование:** Для тренировок, пользователей и статистики предпочтительна реляционная модель. Особенно на начальной стадии проекта релияционной базы будет достаточно.

---

## 4. REST / GraphQL

| Опция      | Преимущества   | Недостатки    | Выбор |
| - | - | - | - |
| REST  | Простота реализации, подходит для CRUD операций благодаря единому архитектурному стилю и использованию HTTP методов. Прост в интеграциях   | Отсутствие гибкости, особенно для задач которые требуют обновлений в онлайн-режиме  | +   |
| GraphQL| Тонкий контроль выборки данных, эффективен при сложной UI-структуре и CMS-контенте  | Сложнее отладка, выше порог и стоимость входа |       |

**Обоснование:** REST проще внедрить и он хорошо подходит для большинства юзкейсов и сторонних интеграций. При внедрении промо и новостей можно будет рассмотреть использование GraphQL, так как при правильном использоавнии, у команды будет возможность управлять такими данными через админ-панель, без backend.

---
